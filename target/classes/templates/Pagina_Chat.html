<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">
    <title>Pagina de chat</title>
    
    <style>
    	
    	.formatoError {
			color: red;
			font-size: 12px;
			line-height: 24px;
		}
    	
    	
    	#listaUsuarios{
    		max-height: 200px;
    		overflow: auto;
    	}
    	
    	#formEnviar{
    		display:none;
    	}
    	
    	#nombreConversacion{
    		display:none;
    	}
    	
    	#menu_OpcionesPerfil{
    		display:none;
    	}
    	
    	#menu_EditarPerfil{
    		display:none;
    	}
    	
    	
    	
    	
    </style>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

	<script src="/Js/FuncionalidadWebSocket.js"></script>
	<script src="/Js/ValidacionImagen.js"></script>
     
</head>





<body>
	<div id="datosUsuario" 
		th:data-Id="${Id}" 
		th:data-Nombre="${Nombre}" 
		th:data-NombreImagen="${NombreImagen}" 
		th:data-Actualizar="${Actualizar}"
	></div>
	
	
    <img id="imagenUsuario" src="" height="250px" width="250px"> 
    <h1 id="nombreUsuario"></h1> 
    
    
    <br><br>
    
    
    
    
    <strong>Usuarios en linea</strong> <br>
    <ul id="listaUsuarios"></ul> <br>
    
    <strong>Conversaciones</strong> <br>
    <ul id="listaConversaciones"></ul>
    
	    <br>    




	<div id="nombreConversacion"></div> <br>
    <ul id="bandejaMensajes"></ul> <br>
    
    
    

    <form id="formEnviar" data-AccionAlEnviar="">
    
    	<input type="text" id="campoMensaje" placeholder="Escribe aqui..."> <br>
    	<input type="submit" id="botonEnviarMensaje" value="Enviar">
    	
    </form>




    <div id="menu_OpcionesPerfil">
    	<button id="botonEditarPerfil">Editar perfil</button>
    	<a href="/logout">Cerrar sesion</a>
    </div>



    <div id="menu_EditarPerfil">
    
    	<div> <strong>Editar perfil</strong> </div> <br>
 
    	<form id="formEditarNombre" action="/actualizarDatosUsuario">
    		Nombre de usuario: <input id="campoNuevoNombre" type="text" name="nuevoNombre"> <br>
    		
    		<div id="mensajeError_ActualizarNombre" class="formatoError" 
    			th:data-ResultadoValidacion="${ResultadoValidacion_ActualizarNombre}"
    			th:data-NombreNoDisponible="${NombreNoDisponible}"
    		></div> <br>
    		
    		<input id="botonEditarNombre" type="submit" value="Actualizar">
    	</form>
    	
    	<br>
    	
    	<form id="formEditarImagen" enctype="multipart/form-data" action="/actualizarDatosUsuario" method="post">
    		Subir nueva imagen de perfil: <input id="campoNuevaImagen" type="file" accept="image/jpeg, image/png" name="nuevaImagen"> <br>
    		
    		<div id="mensajeError_ActualizarImagen" class="formatoError"></div> <br>
    		
    		<input id="botonEditarImagen" type="submit" value="Actualizar">
    	</form>
    	
    	<br><br>
    	
    	<button id="botonCerrar_MenuEditarPerfil">Cerrar</button>
    	
    </div>
    
   
    
    
</body>




</html>
